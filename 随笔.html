<!DOCTYPE html>
<html>
<head lang="en">
<meta charset="UTF-8">
<title>随笔</title>
 <!-- <script defer src="./js/katex.min.js" ></script> -->
 <link rel="stylesheet" href="katex/katex.min.css" >
 <script type="text/javascript" src="katex/katex.min.js" ></script>
</head>
<body>

<style id="style_area" >
a{
    text-decoration:none;
}
p{
    line-height: 1.4em;
    /* text-indent:2em; */
    margin-top: 0;
    margin-bottom: 0;
    padding: 0.3em 0;
}
li{
    padding: 0.3em 0;
}
.gray-line{
    color:#F77;
    font-weight: 100;
    font-style: oblique;
    font-size: 0.8em;
}
code{
    line-height: 24px;
    border-bottom: rgb(253, 191, 186) solid 2px;
    margin: 3px 0.5em;
    padding: 2px;

    font-weight: 400;
    font-size: 12px;
    font-style: oblique;
    border-radius: 3px;
    backdrop-filter: blur(2px);
    color: rgb(231,76,60);
}
/* code{
    line-height: 20px;
    margin: 3px;
    padding: 2px;
    border-radius: 3px;
    color: #eb3f2f;
    font-weight: bold;
    font-size: 12px;
    margin: 3px;
    background-color:#f0f0f0;
    border-right: 1px solid #a9a9a9;
    border-bottom: 1px solid #a9a9a9;
    backdrop-filter: blur(2px);
} */
pre{
    border-radius: 4px;
    background-color: rgb(247,247,247,0.3);
    border: 1px solid #aaa;
    line-height: 1.182em;
    overflow: auto;
    font-size: 11px;
    padding: 16px;
    margin: 10px;
}
img{
    opacity:1;
    margin: 10px;
}
.breadboard{
    box-shadow: 0 1px 4px 0 rgba(0,0,0,0.37);
    margin: 5px 2% 45px;
    padding: 10px;
}

.head_index{
    color: #133152;
    font-size: 30px;
    font-weight: bold;
    text-align: center;
}
.head_1{
    color: #133152;
    font-size: 30px;
    font-weight: bold;
    text-align: left;

    padding-bottom: 10px;
    border-bottom: 4px #133152 solid;
    width: 99%;
    margin-top: 1.5em;
}
.head_2{
    color: #163a60;
    font-size: 25px;
    font-weight: bold;
    text-align: left;

    padding-bottom: 10px;
    border-bottom: 2px #163a60 solid;
    width: 99%;
    margin-top: 1.25em;
}
.head_3{
    color: #1a426e;
    font-size: 20px;
    font-weight: bold;
    text-align: left;
    margin: 32px 0 10px 0;
}

.head_4{
    color: #1d4a7b;
    font-size: 20px;
    font-weight: bold;
    text-align: left;
    margin: 32px 0 10px 0;
}

.div_2{
    margin: 5px 2% 45px;
    padding: 40px;
    height: 100px;
    text-align: center;

}

.img_center{
    text-align: center;
}
.img_left{
    text-align: left;
    margin-left: 4em;
}
.note_msg{
    color: #eb3f2f;
    font-weight: 600;
}

.offset_1em{margin-left: 1em;}
.offset_2em{margin-left: 2em;}
.offset_3em{margin-left: 3em;}
.offset_4em{margin-left: 4em;}
.offset_5em{margin-left: 5em;}
.offset_6em{margin-left: 6em;}
.offset_7em{margin-left: 7em;}
.offset_8em{margin-left: 8em;}
.offset_9em{margin-left: 9em;}
.offset_10em{margin-left: 10em;}

.green_text{
    color: green;
}
.red_text{
    color: red;
}
.purple_text{
    color: purple;
}

.limit_window_size{
    /* overflow:auto; */
    max-height:30em;
    overflow-y:auto;
    word-wrap:break-word;
    word-break: normal;
    white-space: pre-wrap;
    margin:10px;
}

.child_red2_key li strong{
    color: red;
}
.child_red1_key li strong{
    color: red;
}
.child_red2_key li strong{
    color: #F77;
}
.child_red3_key li strong{
    color: #Faa;
}

.foot_panel{
    position:fixed;
    right:3em;
    bottom: 3em;
    width:6em;
    height:30px;
    padding:15px 5px 5px 15px;
    background-color:rgb( 157, 157, 157, 0.618 );
    border-radius: 8px;
}
#foot_panel_top{
    display: inline;
    border-right: 5px solid #eee;
}
#foot_panel_top a{
    width:4em;
}
#foot_panel_bottom {
    display: inline;
    margin-left: 5px;
}
#foot_panel_top a{
    width:4em;
}

#main_index li{
    line-height: 17px;
    font-size: 16px;
}
</style>




<div class="breadboard">
<div class="head_index">目录</div>
<div><ol id="main_index">
</ol></div>
</div>











<div class="breadboard">
<div class="head head_1">DTS</div>
<div class="head head_1">DTS 是什么</div>
<div class="head head_1">DTS 如何在 Linux 中起作用的</div>
<div class="head head_1">DTS 如何编译出来的</div>
<div class="head head_1">DTS 存在 Linux 镜像的哪个位置</div>
<div class="head head_1">DTS 与 bootloader 的关系</div>
<div class="head head_1">DTS Linux 如何使用 DTS 中的配置</div>
<div class="head head_1">DTS 如何加载一个 DTS</div>

</div>











<div class="breadboard">
<div class="head head_1">网络相关</div>

<div class="head head_2">知识点</div>
<p>
    Netfilter
    IPSec
    ttl
    SCTP
    DCCP
    LTE
</p>
<ul>
<li><strong>ETH Protocol ID 在内核中的定义</strong>
    <br> 位置 <code>include/uapi/linux/if_ether.h</code>
    <br> 常用的一些定义有：
    <pre>
#define ETH_P_LOOP      0x0060          /* Ethernet Loopback packet     */
#define ETH_P_IP        0x0800          /* Internet Protocol packet     */
#define ETH_P_ARP       0x0806          /* Address Resolution packet    */
#define ETH_P_RARP      0x8035          /* Reverse Addr Res packet      */
#define ETH_P_8021Q     0x8100          /* 802.1Q VLAN Extended Header  */
#define ETH_P_IPX       0x8137          /* IPX over DIX                 */
#define ETH_P_IPV6      0x86DD          /* IPv6 over bluebook           */
    </pre>
</li>
<li><strong>WakeOnLine</strong>
    <br> WOL / LAN 是以太网的一个通过网络消息唤醒设备的机制
    <br> 消息通常由同一局域网的网络设备发起。当然也可以使用子网的定向广播或者 WoL 网关发起。
    <br> WoL 物理层通过识别 magic package 来判断是否有其他设备再唤醒本设备。包结构通常为 ( 6 * 0xFF + 16 * 唤醒机器的 MAC 地址 ) 总共 102 个字节。数据包通常以广播的方式发送出来。
    <br> WoL Magic 包发送有以下限制：
    <ul>
    <li>需要目标计算机的 MAC 地址（也可能需要 secure ON 的密码）</li>
    <li>不提供唤醒确认（被唤醒机器不提供应答）</li>
    <li>可能无法再本地网络之外工作</li>
    <li>需要目标计算机上的 LAN 硬件支持</li>
    <li>大多数 802.11 无线接口在低功耗状态下不维持链路并且无法接收魔术包</li>
    </ul>
    <br> 有时也可以通过 SDB （子网定向广播）将广播信号传播到子网的设备中。但也需要网关支持才行（可能会被过滤掉）。

    <br> Wake-on-LAN (WoL or WOL) is an Ethernet or Token Ring computer networking standard that allows a computer to be turned on or awakened by a network message.
    <br> The message is usually sent to the target computer by a program executed on a device connected to the same local area network.
        It is also possible to initiate the message from another network by using subnet directed broadcasts or a WoL gateway service.
    <br> Equivalent terms include wake on WAN, remote wake-up, power on by LAN, power up by LAN, resume by LAN, resume on LAN and wake up on LAN.
         If the computer being awakened is communicating via Wi-Fi, a supplementary standard called Wake on Wireless LAN (WoWLAN) must be employed.
    <br> The WoL and WoWLAN standards are often supplemented by vendors to provide protocol-transparent on-demand services, for example in the Apple Bonjour wake-on-demand (Sleep Proxy) feature.
    <br> <strong>Magic packet</strong> The magic packet is a frame that is most often sent as a broadcast and that contains anywhere within its payload 6 bytes of all 255 (FF FF FF FF FF FF in hexadecimal), 
        followed by sixteen repetitions of the target computer's 48-bit MAC address, for a total of 102 bytes.

</li>
</ul>


<div class="head head_2">proc 下和网络相关的一些配置</div>
<ul>
<li><strong>/proc/sys/net/ipv4/ip_forward</strong>
    <br> 设置 1 使能 ip_forward
    <br> Forward Packets between interfaces
    <br> 将此属性配置为 1 将导致所有的 <code>net.ipv4.conf.INTERFACE.forwarding</code> 都变成 1
</li>
<li><strong>net.ipv4.conf.INTERFACE.accept_local</strong>
    <br>
</li>
</ul>
https://www.kernel.org/doc/Documentation/networking/ip-sysctl.txt
https://sysctl-explorer.net/net/ipv4/
https://blog.csdn.net/wesleyflagon/article/details/80272696

<div class="head head_2">iperf3</div>
<div class="head head_3">介绍</div>
<p>
    iPerf3 是一种用于主动测量 IP 网络上可实现的最大带宽的工具。 它支持多种参数的调试，如 timing, buffers, protocols( TCP, UDP, IPv4 / IPv6 的 SCTP )。 
    对于每个测试，它都会报告带宽、丢包率和一些其他的参数。 这是一个新的实现，它与原始 iPerf 不共享任何代码，也不向后兼容。
    iPerf was orginally developed by NLANR/DAST. iPerf3 is principally developed by ESnet / Lawrence Berkeley National Laboratory. It is released under a three-clause BSD license。
    详细信息参考：
    <a href="https://iperf.fr/">iperf3 官网</a>
</p>
<p>
    iperf3 支持测试 TCP 的带宽, MSS/MTU, 另外还支持调整 socket buffer 和的窗口大小。对于 UDP, 支持测量带宽，丢包率, delay/jitter, 以及多播能力。
</p>
<p>
    其支持多种客户端可以直接再官网上下载 bin 文件或者自行编译： Windows, Linux, Android, MacOS X, FreeBSD, OpenBSD, NetBSD, VxWorks, Solaris,...
</p>

<div class="head head_2">参数列表</div>
<p>
    Linux 端支持的参数列表和 Windows 端支持的参数列表是不一样的，而这里仅仅支持常用的一些，对于各个平台的差异还请自己查询官方文档。
</p>
<p>
    下面介绍以 server 模式运行时的独有参数：
</p>
<ul>
<li><strong>-s</strong> / <strong>--server</strong>
    <br> 以 server 模式运行
</li>
<li><strong>-D</strong> / <strong>--daemon</strong>
    <br> 以 daemon 的形式与逆行 server
</li>
<li><strong>-1</strong> / <strong>--one-off</strong>
    <br> 处理完一个 client 之后就退出
</li>
</ul>

<p>
    下面介绍以 Client 模式运行时的独有参数：
</p>
<ul>
<li><strong>-c</strong> / <strong>--client</strong>
    <br> 以 client 模式运行，后指定 host 地址
</li>
<li><strong>-u</strong> / <strong>--udp</strong>
    <br> 测量 UDP 数据，否则测量 TCP 数据
</li>
<li><strong>-b</strong> / <strong>--bandwidth</strong>
    <br> 指定带宽，单位为 bits/seconds 
    <br> 可接受 [K/M/G] 单位（忽略大小写）
    <br> 如果不指定，默认 UDP 为 1M, TCP 无限制
    <br> 如果设置为 0 则代表不限制
    <br> 如果再 brust 模式，则可追加 [/#] 进行数据包计数
</li>
<li><strong>-t</strong> / <strong>--time</strong>
    <br> 指定测量事件，默认为 10s
    <br> 单位为 seconds
</li>
<li><strong>-n</strong> / <strong>--bytes</strong>
    <br> 指定总共传输多少个 byte , 该参数会覆盖 <code>-t</code>
    <br> 可接受 [K/M/G] 单位（忽略大小写）

</li>
<li><strong>-k</strong> / <strong>--blockcount</strong>
    <br> 指定传输多少个 blocks( packages )
    <br> 将会覆盖 <code>-t</code> 和 <code>-n</code> 两个参数
    <br> 可接受 [K/M/G] 单位（忽略大小写）
</li>
<li><strong>-l</strong> / <strong>--len</strong>
    <br> 指定读写 buffer
    <br> 默认 TCP 为 128KB, UDP 为 8KB
    <br> 可接受 [K/M/G] 单位（忽略大小写）
</li>
<li><strong>-cport</strong>
    <br> 指定绑定 client 端的端口
</li>
<li><strong>-P</strong> / <strong>--parallel</strong>
    <br> 指定并行运行的 client 数量
</li>
<li><strong>-R</strong> / <strong>--reservse</strong>
    <br> 工作在 server 发送 client 接收的模式
</li>
<li><strong>-w</strong> / <strong>--windwo</strong>
    <br> 指定窗口大小 / socket buffer size
    <br> 可接受 [K/M/G] 单位（忽略大小写）
</li>
<li><strong>-M</strong> / <strong>--set-mss</strong>
    <br> 指定 TCP/SCTO 的最大分段大小
</li>
<li><strong>-N</strong> / <strong>--no-delay</strong>
    <br> 设置 TCP/IP 的 no delay 模式， 禁止 Nagle's 算法
</li>
<li><strong>-4</strong> / <strong>--version4</strong>
    <br> only use IPv4
</li>
<li><strong>-6</strong> / <strong>--version6</strong>
    <br> only use IPv6
</li>
<li><strong>-S</strong> / <code>--tos</code>
    <br> 指定出战数据包的 `type-of-service` 字段（但注意，很多路由器会忽略这个字段）
    <br> IPTOS_LOWDELAY     minimize delay        0x10
    <br> IPTOS_THROUGHPUT   maximize throughput   0x08
    <br> IPTOS_RELIABILITY  maximize reliability  0x04
    <br> IPTOS_LOWCOST      minimize cost         0x02
</li>
<li><strong>-Z</strong> / <strong>--zerocopy</strong>
    <br> 使用零拷贝的方式来发送数据
</li>
<li><strong>-O</strong> / <strong>--omit</strong>
    <br> 忽略前 n 秒的数据
    <br> 主要跳过 TCP 的慢启动阶段
</li>
<li><strong>-T</strong> / <strong>--title</strong>
    <br> 给每一行测试数据加上前缀字符串
</li>
<li><strong>--get-server-output</strong>
    <br> 从 server 端获取测试结果
</li>
<li><strong>--udp-counters-64bit</strong>
    <br> 在 UDP 测试中使用 64bit 的计数器
</li>
</ul>

<p>
    下面介绍共有的一些参数：
</p>
<ul>
<li><strong>-v/--version</strong>
    <br> 展示版本号
</li>
<li><strong>-p</strong> / <strong>--port</strong>
    <br> 指定监听或者连接的端口
</li>
<li><strong>-f</strong> / <strong>--format</strong>
    <br> 报告格式
    <br> 可接受 [K/M/G] 单位（忽略大小写）
</li>
<li><strong>-i</strong> / <strong>--interval</strong>
    <br> 报告测试结果的间隔
    <br> 默认为 1 seconds
</li>
<li><strong>-F</strong> / <strong>--file</strong>
    <br> 指定发送或者接收的文件
</li>
<li><strong>-B</strong> / <strong>--bind</strong>
    <br> 指定绑定的 interface
</li>
<li><strong>-J</strong> / <strong>--json</strong>
    <br> 以 JSON 格式输出
</li>
</ul>

<div class="head head_2">使用方法</div>
<p>
    以下例子测试 TCP 传输性能，并在统计数据中去除前几秒的影响。
</p>
<pre>
// ---------------------------------------------------------------------------------> SERVER PART
pi@raspberrypi:~ $ iperf3 -s
-----------------------------------------------------------
Server listening on 5201
-----------------------------------------------------------

// ---------------------------------------------------------------------------------> CLIENT PART
$ ./iperf3.exe -c  172.16.20.74 -p 5201 -b 10M -O 3 --get-server-output
Connecting to host 172.16.20.74, port 5201
[  4] local 10.1.114.200 port 10908 connected to 172.16.20.74 port 5201
[ ID] Interval           Transfer     Bandwidth
[  4]   0.00-1.00   sec  1.25 MBytes  10.5 Mbits/sec                  (omitted)
[  4]   1.00-2.00   sec   512 KBytes  4.19 Mbits/sec                  (omitted)
[  4]   2.00-3.00   sec   384 KBytes  3.15 Mbits/sec                  (omitted)
[  4]   0.00-1.00   sec   512 KBytes  4.19 Mbits/sec
[  4]   1.00-2.00   sec   512 KBytes  4.19 Mbits/sec
[  4]   2.00-3.00   sec   512 KBytes  4.20 Mbits/sec
[  4]   3.00-4.00   sec   384 KBytes  3.14 Mbits/sec
[  4]   4.00-5.00   sec  0.00 Bytes  0.00 bits/sec
[  4]   5.00-6.00   sec   128 KBytes  1.05 Mbits/sec
[  4]   6.00-7.00   sec   512 KBytes  4.20 Mbits/sec
[  4]   7.00-8.00   sec   256 KBytes  2.10 Mbits/sec
[  4]   8.00-9.00   sec   896 KBytes  7.35 Mbits/sec
[  4]   9.00-10.00  sec   640 KBytes  5.24 Mbits/sec
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth
[  4]   0.00-10.00  sec  4.25 MBytes  3.56 Mbits/sec                  sender
[  4]   0.00-10.00  sec  4.17 MBytes  3.50 Mbits/sec                  receiver

Server output:
-----------------------------------------------------------
Server listening on 5201
-----------------------------------------------------------
Accepted connection from 10.1.114.200, port 10907
[  5] local 172.16.20.74 port 5201 connected to 10.1.114.200 port 10908
[ ID] Interval           Transfer     Bitrate
[  5]   0.00-1.00   sec  1.02 MBytes  8.53 Mbits/sec                  (omitted)
[  5]   1.00-2.00   sec   549 KBytes  4.49 Mbits/sec                  (omitted)
[  5]   2.00-3.00   sec   426 KBytes  3.49 Mbits/sec                  (omitted)
[  5]   0.00-1.00   sec   443 KBytes  3.63 Mbits/sec
[  5]   1.00-2.00   sec   492 KBytes  4.03 Mbits/sec
[  5]   2.00-3.00   sec   531 KBytes  4.34 Mbits/sec
[  5]   3.00-4.00   sec   369 KBytes  3.03 Mbits/sec
[  5]   4.00-5.00   sec  62.7 KBytes   514 Kbits/sec
[  5]   5.00-6.00   sec   118 KBytes   969 Kbits/sec
[  5]   6.00-7.00   sec   590 KBytes  4.84 Mbits/sec
[  5]   7.00-8.00   sec   171 KBytes  1.40 Mbits/sec
[  5]   8.00-9.00   sec   909 KBytes  7.44 Mbits/sec
[  5]   9.00-10.00  sec   580 KBytes  4.75 Mbits/sec
[  5]  10.00-10.08  sec  4.28 KBytes   436 Kbits/sec
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bitrate
[  5]   0.00-10.08  sec  4.17 MBytes  3.47 Mbits/sec                  receiver


iperf Done.
</pre>
<p>
    下面的例子用于测试 UDP 传输性能，并评估环境中的丢包率：
</p>
<pre>
$ ./iperf3.exe -c  172.16.20.74 -p 5201 -b 10M -u --get-server-output
Connecting to host 172.16.20.74, port 5201
[  4] local 10.1.114.200 port 63273 connected to 172.16.20.74 port 5201
[ ID] Interval           Transfer     Bandwidth       Total Datagrams
[  4]   0.00-1.00   sec  1.09 MBytes  9.10 Mbits/sec  139
[  4]   1.00-2.00   sec  1.27 MBytes  10.7 Mbits/sec  163
[  4]   2.00-3.00   sec  1.18 MBytes  9.90 Mbits/sec  151
[  4]   3.00-4.00   sec  1.24 MBytes  10.4 Mbits/sec  159
[  4]   4.00-5.00   sec  1.10 MBytes  9.25 Mbits/sec  141
[  4]   5.00-6.00   sec  1.20 MBytes  10.0 Mbits/sec  153
[  4]   6.00-7.00   sec  1.16 MBytes  9.76 Mbits/sec  149
[  4]   7.00-8.00   sec  1.30 MBytes  10.9 Mbits/sec  167
[  4]   8.00-9.00   sec  1.12 MBytes  9.37 Mbits/sec  143
[  4]   9.00-10.00  sec  1.23 MBytes  10.3 Mbits/sec  157
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth       Jitter    Lost/Total Datagrams
[  4]   0.00-10.00  sec  11.9 MBytes  9.97 Mbits/sec  1.460 ms  919/1516 (61%)
[  4] Sent 1516 datagrams

Server output:
-----------------------------------------------------------
Server listening on 5201
-----------------------------------------------------------
Accepted connection from 10.1.114.200, port 11025
[  5] local 172.16.20.74 port 5201 connected to 10.1.114.200 port 63273
[ ID] Interval           Transfer     Bitrate         Jitter    Lost/Total Datagrams
[  5]   0.00-1.00   sec  1.08 MBytes  9.04 Mbits/sec  0.987 ms  0/138 (0%)
[  5]   1.00-2.00   sec   432 KBytes  3.54 Mbits/sec  1.479 ms  88/142 (62%)
[  5]   2.00-3.00   sec   400 KBytes  3.28 Mbits/sec  1.317 ms  103/153 (67%)
[  5]   3.00-4.00   sec   408 KBytes  3.34 Mbits/sec  1.539 ms  101/152 (66%)
[  5]   4.00-5.00   sec   400 KBytes  3.28 Mbits/sec  0.851 ms  103/153 (67%)
[  5]   5.00-6.00   sec   400 KBytes  3.28 Mbits/sec  0.989 ms  103/153 (67%)
[  5]   6.00-7.00   sec   400 KBytes  3.28 Mbits/sec  1.466 ms  102/152 (67%)
[  5]   7.00-8.00   sec   400 KBytes  3.28 Mbits/sec  1.183 ms  103/153 (67%)
[  5]   8.00-9.00   sec   400 KBytes  3.28 Mbits/sec  5.698 ms  99/149 (66%)
[  5]   9.00-10.00  sec   392 KBytes  3.21 Mbits/sec  1.384 ms  107/156 (69%)
[  5]  10.00-10.34  sec  40.0 KBytes   953 Kbits/sec  1.460 ms  10/15 (67%)
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bitrate         Jitter    Lost/Total Datagrams
[  5]   0.00-10.34  sec  4.66 MBytes  3.78 Mbits/sec  1.460 ms  919/1516 (61%)  receiver


iperf Done.

</pre>

<div class="head head_3">Termis</div>
<ul>
<li><strong>MTU</strong>
    <br> 一个网络包的最大长度，以太网中一般为 1500 字节；
</li>
<li><strong>MSS</strong>
    <br> 去 IP 和 TCP 头部之后，一个网络包所能容纳的 TCP 数据的最大长度；
    <br> IPV4 中 MSS 的大小为 MTU 的大小减去 40 bytes
</li>
</ul>





<div class="head head_2">iptables</div>
<div class="head head_3">iptables 如何实现的</div>

<div class="head head_3">iptables 的四个表</div>
<ul>
<li><strong>filter</strong>
    <br> This is the default table (if no -t option is passed). It contains the built-in chains INPUT (for packets destined to local sockets), FORWARD (for packets being routed through the box), and OUTPUT (for locally-generated packets).
    <br> 负责过滤数据包，确定是否放行该数据包（过滤）。包含三个规则链 INPUT、FORWARD、OUTPUT。
</li>
<li><strong>nat</strong>
    <br> This table is consulted when a packet that creates a new connection is encountered.  It consists of four built-ins: PREROUTING (for altering packets as soon as they come in), INPUT (for altering packets destined for local sockets), OUTPUT  (for altering locally-generated packets before routing), and POSTROUTING (for altering packets as they are about to go out).  IPv6 NAT support is available since kernel 3.7.
    <br> 
</li>
<li><strong>mangle</strong>
    <br> This  table  is used for specialized packet alteration.  Until kernel 2.4.17 it had two built-in chains: PREROUTING (for altering incoming packets before routing) and OUTPUT (for altering locally-generated packets before routing).  Since kernel 2.4.18, three other built-in chains are also supported: INPUT (for packets coming into the box itself), FORWARD (for altering packets being routed through the box), and POSTROUTING (for altering packets as they are about to go out).
    <br> 
</li>
<li><strong>raw</strong>
    <br> This table is used mainly for configuring exemptions from connection tracking in combination with the NOTRACK target.  It registers at the netfilter hooks with higher priority and is thus called before ip_conntrack, or any other IP tables.   It provides the following built-in chains: PREROUTING (for packets arriving via any network interface) OUTPUT (for packets generated by local processes)
    <br> 
</li>

<li><strong>security</strong>
    <br> This  table  is  used  for Mandatory Access Control (MAC) networking rules, such as those enabled by the SECMARK and CONNSECMARK targets.  Mandatory Access Control is implemented by Linux Security Modules such as SELinux.  The security table is called after the filter table, allowing any Discretionary Access Control (DAC) rules in the filter table to take effect before MAC rules.  This table provides the following built-in chains: INPUT (for packets coming into the box itself), OUTPUT (for altering locally-generated packets before routing), and FORWARD (for altering packets being routed through the box).
    <br> 
</li>
</ul>

<div class="head head_3">iptables 的五个内建 chain</div>
<p>
    五个内建的 chain 为： PREROUTING / POSTROUTING / FORWARD / INPUT / OUTPUT, 他们的关系如下图所示：
</p>
<img src="https://images.cnblogs.com/cnblogs_com/mojies/2171355/o_220606041259_iptables_chain_ralationship.png" alt="" class="img_center" width="600px">

<div class="head head_3">iptables 基本操作命令</div>
<ul>
<li><strong>查看当前防火墙规则</strong>
    <br> <code>iptables -nvL</code> or <code>iptables -L</code>
</li>
<li><strong>添加 Chain</strong>
    <br> <code>iptables -N CHAIN_NAME</code>
</li>
<li><strong>删除 chain</strong>
    <br> <code>iptables -X CHAIN_NAME</code>
</li>
<li><strong>重命名 chain</strong>
    <br> <code>iptables -E OLD_CHAIN_NAME NEW_CHAIN_NAME</code>
</li>
<li><strong>对 chain 规则做出修改（增删改查）</strong>
    <br> <code>iptables [-t table] {-A|-C|-D} OLD_CHAIN_NAME rule-specification</code>, <code>-A</code> 增加一条规则m, <code>-C</code> 检查规则是否存在, <code>-D</code> 删除某条规则
    <br> <code>ip6tables [-t table] {-A|-C|-D} OLD_CHAIN_NAME rule-specification</code>, 与上一致
    <br> <code>iptables [-t table] -I OLD_CHAIN_NAME [rulenum] rule-specification</code>, 插入一条规则
    <br> <code>iptables [-t table] -R OLD_CHAIN_NAME rulenum rule-specification</code>, 替换一条规则
    <br> <code>iptables [-t table] -D OLD_CHAIN_NAME rulenum</code>, 删除一条规则
    <br> <code>iptables [-t table] -S [OLD_CHAIN_NAME [rulenum]]</code>, 打印 chain 中的规则
    <br> <code>iptables [-t table] {-F|-L|-Z} [OLD_CHAIN_NAME [rulenum]] [options...]</code>, <code>-F</code> 清除 chain 中所有 rule, <code>-L</code> 列出 chain 中所有 rule, <code>-Z</code> 清除 chain 的包计数
    <br> <code>iptables [-t table] -P OLD_CHAIN_NAME target</code> 给 chain 指定默认行为
</li>
<li><strong>将 chain 应用于 chain</strong>
    <br> <code>iptables -A INPUT -p tcp -dport 80 -j CHAIN_NAME</code>
</li>
</ul>

<div class="head head_3">iptables 基本操作参数</div>
<ul>
<li><strong>--ipv4</strong> / <code>-4</code>

</li>
<li><strong>--ipv6</strong> / <code>-6</code>

</li>
<li><strong>-p</strong> / <code>--protocol</code>
    <br> 
    <br> The  protocol of the rule or of the packet to check.  The specified protocol can be one of tcp, udp, udplite, icmp, icmpv6,esp, ah, sctp, mh or the special keyword "all", or it can be a numeric value, representing one of these protocols or a differ‐
    ent one.  A protocol name from /etc/protocols is also allowed.  A "!" argument before the protocol inverts the test.  The number zero is equivalent to all. "all" will match with all protocols and is taken as default  when  this  option  is  omitted.
    Note  that,  in  ip6tables,  IPv6  extension headers except esp are not allowed.  esp and ipv6-nonext can be used with Kernel version 2.6.11 or later.  The number zero is equivalent to all, which means that you cannot test the protocol field for the
    value 0 directly. To match on a HBH header, even if it were the last, you cannot use -p 0, but always need -m hbh.
</li>
<li><strong>-s</strong> / <code>--source</code>
    <br> Source specification. Address can be either a network name, a hostname, a network IP address (with /mask), or a plain IP address. Hostnames will be resolved once only, before the rule is submitted to the kernel.  Please note that specifying any name
    to  be  resolved with a remote query such as DNS is a really bad idea.  The mask can be either an ipv4 network mask (for iptables) or a plain number, specifying the number of 1's at the left side of the network mask.  Thus, an iptables mask of 24 is
    equivalent to 255.255.255.0.  A "!" argument before the address specification inverts the sense of the address. The flag --src is an alias for this option.  Multiple addresses can be specified, but this will expand to  multiple  rules  (when  adding
    with -A), or will cause multiple rules to be deleted (with -D).
</li>
<li><strong>-d</strong> / <code>--destination</code>
    <br> Destination specification.  See the description of the -s (source) flag for a detailed description of the syntax.  The flag --dst is an alias for this option.
</li>
<li><strong>-m</strong> / <code>--match</code>
    
</li>
<li><strong>-j</strong> / <code>--jump</code>

</li>
<li><strong>-g</strong> / <code>--goto</code>

</li>
<li><strong>-i</strong> / <code>--in-interface</code>
    <br> 接收数据包的 interface 名称（仅适用于进入 INPUT、FORWARD 和 PREROUTING 链的数据包）。
        当接口名前存在字符 “!” 的时候，将匹配除此接口的的所有数据。 如果接口名称以 “+” 结尾，那么任何以此名称开头的接口都将匹配。 如果省略此选项，则任何接口名称都将匹配。
</li>
<li><strong>-o</strong> / <code>--out-interface</code>
    <br> 发送数据包的 interface 名称（仅适用于进入 FORWARD, OUTPUT 和 POSTROUTING 链的数据包）。
        当接口名前存在字符 “!” 的时候，将匹配除此接口的的所有数据。 如果接口名称以 “+” 结尾，那么任何以此名称开头的接口都将匹配。 如果省略此选项，则任何接口名称都将匹配。
</li>
<li><strong>-f</strong> / <code>--fragment</code>
    <br> 
</li>
<li><strong>-c</strong> / <code>--set-counters</code>
    <br> 
</li>
</ul>

<div class="head head_3">参考资料</div>
<ul>
<li><a href="https://blog.csdn.net/weixin_51468875/article/details/114023012">Iptables防火墙策略详解</a></li>
<li>LINUX: man iptables</li>
<li><a href="https://wangchujiang.com/linux-command/c/iptables.html">iptables</a></li>
<li><a href=""></a></li>
</ul>


</div>
    








<div class="breadboard">
<div class="head head_1">图像</div>
<ul>
<li><strong>RGB 和 Ycrcb 转换</strong>
    <br> 转换公式一定要依据ITU的标准, 常看到的是 <code>ITU.BT-601</code> 和 <code>ITU.BT-709</code> 。
    <br> <a href="https://www.itu.int/dms_pubrec/itu-r/rec/bt/R-REC-BT.601-7-201103-I!!PDF-E.pdf">ITU.BT-601</a>
    <br> <a href="https://www.itu.int/dms_pubrec/itu-r/rec/bt/R-REC-BT.709-6-201506-I!!PDF-E.pdf">ITU.BT-709</a>

</li>
</ul>

</div>












<div class="breadboard">
<div class="head head_1">硬件</div>
<ul>
<li><strong>半导体集成电路第三代双倍数据速率同步动态随机存储器（DDR3 SDRAM）测试方法</strong>
    <br> <a href="https://www.cesa.cn/UpFileManage/bpgsManage/2017-10-24%20180021.pdf">链接地址</a>
    <br> 里面介绍了 TIS / TIH / TDS / TDH 这些参数的意义
</li>
<li><strong>Digi-Key</strong>
    <br> <a href="https://www.digikey.hk/en/products">Digi-Key 一个搜索硬件 IC 和模块的网站</a>

</li>
<li><strong>检测电路</strong>
    <br> 上下拉，开漏，推挽
    <br> JTAG
    <br> MIPI
    <br> I2S 主从
    <br> 外置晶振
    <br> 

</li>
</ul>

</div>







<div class="breadboard">
<div class="head head_1">工具</div>
<ul>
<li><strong>免费的 HexEdit</strong>
    <br> <a href="https://mh-nexus.de/en/hxd/">HexD</a>

</li>
</ul>

</div>    







<div class="breadboard">
<div class="head head_1">其他</div>
<ul>
<li><strong>介绍 ASOC 架构的文章</strong>
    <br> <a href="https://blog.csdn.net/yangjizhen1533?type=blog">Linux 音频驱动(一 -> 六)</a>

</li>
<li><strong>Ross Anderson 大牛的主页</strong>
    <br> <a href="https://www.cl.cam.ac.uk/~rja14/">https://www.cl.cam.ac.uk/~rja14/</a>

</li>
<li><strong>HTML 数学公式代码生成器</strong>
    <br> <a href="https://webdemo.myscript.com/views/math/index.html#">https://webdemo.myscript.com/views/math/index.html#</a>
    <br> <a href="https://www.mathmlcentral.com/Tools/ToMathML.jsp">https://www.mathmlcentral.com/Tools/ToMathML.jsp</a>
</li>
<li><strong>Latex</strong>
    <br> <a href="https://xjay.net/201902/latex-syntax-for-math-equation/">LaTeX 数学公式语法</a>

</li>
<li><strong>搜书网站</strong>
    <br> <a href="http://library.lol/">http://library.lol/</a>
    <br> <a href="http://libgen.rs/">http://libgen.rs/</a>
    <br> <a href="https://zh.3lib.net/">zlibrary</a>

</li>
<li><strong>jeanboydev 总结的一份 Android 系统开发分析</strong>
    <br> <a href="https://github.com/jeanboydev/Android-ReadTheFuckingSourceCode">https://github.com/jeanboydev/Android-ReadTheFuckingSourceCode</a>

</li>
<li><code>katex 运用</code>
    <br>
    <span class="latex_str" >
        \overline{PSNR}=
            \sum^K_{k=1}min\left[
                 20\log 10\left(
                    \dfrac{255}{ \sqrt{
                        \dfrac{1}{M*N}
                        \sum^{M-1}_{i=0}
                        \sum^{N-1}_{j=0}
                        [Y_{origin}(i,j) - Y_{code}(i,j)]^{2} } }
                \right); 50
            \right]
    </span>
    

</li>
<li><strong>平替 Window jounal 的笔记工具</strong>
    <br> <a href="https://github.com/xournalpp/xournalpp/releases/tag/v1.1.1">https://github.com/xournalpp/xournalpp/releases/tag/v1.1.1</a>

</li>
<li><strong>buildroot CMake 添加头依赖</strong>
    <br> buildroot 中的安装包都会安装到 <code>buildroot/output/PLAT/host/TOOLCHAIN_NAME/sysroot/usr/include</code>, 如果实在找不到可以在 PLT 目录查找以下你想要的头文件，
        该目录也可以通过 <code>${CMAKE_SYSROOT}/usr/include</code> 定位到。
    <br> 因此在你的工程中你可以使用 <code>include_directories("${CMAKE_SYSROOT}/usr/include")</code> 引用该目录下的所有安装头文件。
</li>
</ul>
</div>










<table><tr>
<td><img width="190" src="http://images.cnblogs.com/cnblogs_com/mojies/998573/o_AliPay1.jpg" alt=""></td>
<td><img width="200" src="http://images.cnblogs.com/cnblogs_com/mojies/998573/o_WeChatPa1.jpg" alt=""></td>
</tr></table>
<div class="div_2" id="AuthorizationWarning">
<div class="Text_ZZ">原创文章，版权所有，转载请获得作者本人允许并注明出处</div>
<div class="Text_LB">我是留白；我是留白；我是留白；（重要的事情说三遍）</div>
</div>
<div class="foot_panel" id="foot_panel">
    <div id="foot_panel_top" >
        <a href="#main_index" class="NoExternal">TOP</a>
    </div>
    <div id="foot_panel_bottom" >
        <a href="#AuthorizationWarning" class="NoExternal">BOT</a>
    </div>
</div>
</body>

<script src="js/PrePost.js"></script>



</html>
